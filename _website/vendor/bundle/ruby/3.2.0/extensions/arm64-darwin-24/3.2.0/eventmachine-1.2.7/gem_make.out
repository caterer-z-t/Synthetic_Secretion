current directory: /Users/zc/Library/CloudStorage/OneDrive-UCB-O365/academics/IQ_Bio/team_rotation/Synthetic_Secretion/_website/vendor/bundle/ruby/3.2.0/gems/eventmachine-1.2.7/ext
/Users/zc/.rbenv/versions/3.2.0/bin/ruby -I /Users/zc/.rbenv/versions/3.2.0/lib/ruby/3.2.0 extconf.rb
-----
Using OpenSSL from pkg-config -I/opt/homebrew/Cellar/openssl@3/3.4.0/include  && -L/opt/homebrew/Cellar/openssl@3/3.4.0/lib && -lssl -lcrypto
-----
checking for -lcrypto... yes
checking for -lssl... yes
checking for openssl/ssl.h... yes
checking for openssl/err.h... yes
checking for rb_trap_immediate in ruby.h,rubysig.h... no
checking for rb_thread_blocking_region()... no
checking for rb_thread_call_without_gvl() in ruby/thread.h... no
checking for rb_thread_fd_select()... no
checking for rb_fdset_t in ruby/intern.h... yes
checking for rb_wait_for_single_fd()... no
checking for rb_enable_interrupt()... no
checking for rb_time_new()... no
checking for inotify_init() in sys/inotify.h... no
checking for __NR_inotify_init in sys/syscall.h... no
checking for writev() in sys/uio.h... yes
checking for pipe2() in unistd.h... no
checking for accept4() in sys/socket.h... no
checking for SOCK_CLOEXEC in sys/socket.h... no
checking for sys/event.h... yes
checking for sys/queue.h... yes
checking for clock_gettime()... yes
checking for CLOCK_MONOTONIC_RAW in time.h... yes
checking for CLOCK_MONOTONIC in time.h... yes
CXXFLAGS=-fdeclspec -Wall -Wextra -Wno-deprecated-declarations -Wno-ignored-qualifiers -Wno-unused-result -Wno-address
creating Makefile

current directory: /Users/zc/Library/CloudStorage/OneDrive-UCB-O365/academics/IQ_Bio/team_rotation/Synthetic_Secretion/_website/vendor/bundle/ruby/3.2.0/gems/eventmachine-1.2.7/ext
make DESTDIR\= sitearchdir\=./.gem.20250310-58716-fnnily sitelibdir\=./.gem.20250310-58716-fnnily clean

current directory: /Users/zc/Library/CloudStorage/OneDrive-UCB-O365/academics/IQ_Bio/team_rotation/Synthetic_Secretion/_website/vendor/bundle/ruby/3.2.0/gems/eventmachine-1.2.7/ext
make DESTDIR\= sitearchdir\=./.gem.20250310-58716-fnnily sitelibdir\=./.gem.20250310-58716-fnnily
compiling binder.cpp
compiling cmain.cpp
compiling ed.cpp
compiling em.cpp
em.cpp:706:13: error: use of undeclared identifier 'rb_thread_select'; did you mean 'rb_thread_fd_select'?
  706 |         if ((ret = rb_thread_select(kqfd + 1, &fdreads, NULL, NULL, &tv)) < 1) {
      |                    ^~~~~~~~~~~~~~~~
      |                    rb_thread_fd_select
/Users/zc/.rbenv/versions/3.2.0/include/ruby-3.2.0/ruby/internal/intern/select.h:82:5: note: 'rb_thread_fd_select' declared here
   82 | int rb_thread_fd_select(int nfds, rb_fdset_t *rfds, rb_fdset_t *wfds, rb_fdset_t *efds, struct timeval *timeout);
      |     ^
em.cpp:706:40: error: cannot initialize a parameter of type 'rb_fdset_t *' with an rvalue of type 'fd_set *'
  706 |         if ((ret = rb_thread_select(kqfd + 1, &fdreads, NULL, NULL, &tv)) < 1) {
      |                                               ^~~~~~~~
/Users/zc/.rbenv/versions/3.2.0/include/ruby-3.2.0/ruby/internal/intern/select.h:82:47: note: passing argument to parameter 'rfds' here
   82 | int rb_thread_fd_select(int nfds, rb_fdset_t *rfds, rb_fdset_t *wfds, rb_fdset_t *efds, struct timeval *timeout);
      |                                               ^
em.cpp:939:9: error: use of undeclared identifier 'rb_thread_select'; did you mean 'rb_thread_fd_select'?
  939 |         return EmSelect (maxsocket+1, &fdreads, &fdwrites, &fderrors, &tv);
      |                ^~~~~~~~
      |                rb_thread_fd_select
./em.h:29:22: note: expanded from macro 'EmSelect'
   29 |     #define EmSelect rb_thread_select
      |                      ^
/Users/zc/.rbenv/versions/3.2.0/include/ruby-3.2.0/ruby/internal/intern/select.h:82:5: note: 'rb_thread_fd_select' declared here
   82 | int rb_thread_fd_select(int nfds, rb_fdset_t *rfds, rb_fdset_t *wfds, rb_fdset_t *efds, struct timeval *timeout);
      |     ^
em.cpp:1063:6: error: use of undeclared identifier 'rb_thread_select'; did you mean 'rb_thread_fd_select'?
 1063 |                                         EmSelect (0, NULL, NULL, NULL, &tv);
      |                                         ^~~~~~~~
      |                                         rb_thread_fd_select
./em.h:29:22: note: expanded from macro 'EmSelect'
   29 |     #define EmSelect rb_thread_select
      |                      ^
/Users/zc/.rbenv/versions/3.2.0/include/ruby-3.2.0/ruby/internal/intern/select.h:82:5: note: 'rb_thread_fd_select' declared here
   82 | int rb_thread_fd_select(int nfds, rb_fdset_t *rfds, rb_fdset_t *wfds, rb_fdset_t *efds, struct timeval *timeout);
      |     ^
em.cpp:2119:3: warning: 'sprintf' is deprecated: This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of sprintf(3), it is highly recommended that you use snprintf(3) instead. [-Wdeprecated-declarations]
 2119 |                 sprintf(errbuf, "failed to register file watch descriptor with kqueue: %s", strerror(errno));
      |                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h:274:1: note: 'sprintf' has been explicitly marked deprecated here
  274 | __deprecated_msg("This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of sprintf(3), it is highly recommended that you use snprintf(3) instead.")
      | ^
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:218:48: note: expanded from macro '__deprecated_msg'
  218 |         #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))
      |                                                       ^
em.cpp:2186:3: warning: 'sprintf' is deprecated: This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of sprintf(3), it is highly recommended that you use snprintf(3) instead. [-Wdeprecated-declarations]
 2186 |                 sprintf(errbuf, "error registering file %s for watching: %s", fpath, strerror(errno));
      |                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h:274:1: note: 'sprintf' has been explicitly marked deprecated here
  274 | __deprecated_msg("This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of sprintf(3), it is highly recommended that you use snprintf(3) instead.")
      | ^
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:218:48: note: expanded from macro '__deprecated_msg'
  218 |         #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))
      |                                                       ^
em.cpp:2214:3: warning: 'sprintf' is deprecated: This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of sprintf(3), it is highly recommended that you use snprintf(3) instead. [-Wdeprecated-declarations]
 2214 |                 sprintf(errbuf, "failed to open file %s for registering with kqueue: %s", fpath, strerror(errno));
      |                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h:274:1: note: 'sprintf' has been explicitly marked deprecated here
  274 | __deprecated_msg("This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of sprintf(3), it is highly recommended that you use snprintf(3) instead.")
      | ^
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:218:48: note: expanded from macro '__deprecated_msg'
  218 |         #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))
      |                                                       ^
em.cpp:2365:3: warning: 'sprintf' is deprecated: This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of sprintf(3), it is highly recommended that you use snprintf(3) instead. [-Wdeprecated-declarations]
 2365 |                 sprintf(errbuf, "failed to register file watch descriptor with kqueue: %s", strerror(errno));
      |                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/_stdio.h:274:1: note: 'sprintf' has been explicitly marked deprecated here
  274 | __deprecated_msg("This function is provided for compatibility reasons only.  Due to security concerns inherent in the design of sprintf(3), it is highly recommended that you use snprintf(3) instead.")
      | ^
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:218:48: note: expanded from macro '__deprecated_msg'
  218 |         #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))
      |                                                       ^
4 warnings and 4 errors generated.
make: *** [em.o] Error 1

make failed, exit code 2
